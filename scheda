<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Scheda Fabula Ultima</title>

<style>
:root {
  --bg:#f4f8f6;
  --main:#2f7f6f;
  --box:#ffffff;
  --border:#cfd8d3;
  --text:#1f3d36;
}

/* ğŸ¨ TEMI */
body.theme-verde { --bg:#f4f8f6; --main:#2f7f6f; --text:#1f3d36; }
body.theme-rosa { --bg:#fff2f7; --main:#c94b7c; --text:#4a1f2f; }
body.theme-notte {
  --bg:#1e1e2a; --main:#8aa8ff; --box:#2a2a3a;
  --border:#444; --text:#eeeeee;
}
body.theme-rosso { --bg:#fff1f1; --main:#9b2c2c; --text:#3a1515; }
body.theme-pergamena { --bg:#f7f0dc; --main:#8b6f3d; --text:#3a2e1a; }

body {
  margin:0;
  font-family: "Segoe UI", sans-serif;
  background: var(--bg);
  color: var(--text);
}

.sheet {
  max-width: 210mm;
  margin:auto;
  padding:10mm;
  background: var(--box);
}

h2 {
  margin:6px 0 4px;
  color: var(--main);
}

.box {
  border:1px solid var(--border);
  border-radius:8px;
  padding:6px;
  margin-bottom:6px;
}

.grid2 { display:grid; grid-template-columns:1fr 1fr; gap:6px; }
.grid4 { display:grid; grid-template-columns:repeat(4,1fr); gap:6px; }

label { font-size:0.8em; }

input, textarea, select {
  width:100%;
  box-sizing:border-box;
  border:1px solid var(--border);
  border-radius:6px;
  padding:4px;
  background: var(--box);
  color: var(--text);
}

textarea { resize:vertical; min-height:50px; }

/* ğŸ–¨ï¸ STAMPA */
@media print {
  body { background:white; }
  .theme-picker { display:none; }
  .sheet { padding:8mm; }
}
</style>
</head>

<body class="theme-verde">

<div class="sheet">

<!-- ğŸ¨ TEMA -->
<div class="box theme-picker">
ğŸ¨ <b>Tema:</b>
<select onchange="document.body.className=this.value">
  <option value="theme-verde">ğŸŒ¿ Verde</option>
  <option value="theme-rosa">ğŸŒ¸ Rosa</option>
  <option value="theme-notte">ğŸŒ™ Notte</option>
  <option value="theme-rosso">ğŸ”¥ Cremisi</option>
  <option value="theme-pergamena">ğŸ“œ Pergamena</option>
</select>
</div>

<!-- IDENTITÃ€ -->
<div class="box grid2">
  <label>Nome ğŸ–‹ï¸<input></label>
  <label>Genere<input></label>
  <label>IdentitÃ <input></label>
  <label>Origine<input></label>
</div>

<!-- CARATTERISTICHE -->
<div class="box">
<h2>âœ¨ Caratteristiche</h2>
<div class="grid4">
  <label>Destrezza ğŸƒ<input id="des" type="number" min="0"></label>
  <label>Intuito ğŸ‘ï¸<input id="int" type="number" min="0"></label>
  <label>Vigore ğŸ’ª<input id="vig" type="number" min="0"></label>
  <label>VolontÃ  ğŸ”¥<input id="vol" type="number" min="0"></label>
</div>
</div>

<!-- LIVELLO -->
<div class="box grid2">
  <label>Livello â­<input id="liv" type="number" value="1" min="0"></label>
  <label>Iniziativa ğŸ¯<input id="init" readonly></label>
</div>

<!-- PUNTI -->
<div class="box">
<h2>â¤ï¸ Punti</h2>
<div class="grid4">
  <label>PV â¤ï¸<input id="pv" readonly></label>
  <label>PM ğŸ’ <input id="pm" readonly></label>
  <label>PI ğŸ’<input id="pi" readonly></label>
  <label>Fabula âœ¨<input></label>
</div>
</div>

<!-- DIFESE -->
<div class="box grid2">
  <label>Difesa ğŸ›¡ï¸<input id="dif" readonly></label>
  <label>Difesa Magica ğŸ”®<input id="difm" readonly></label>
</div>

<!-- EQUIP -->
<div class="box">
<h2>ğŸ§° Equipaggiamento</h2>
<textarea></textarea>
</div>

<!-- APPUNTI -->
<div class="box">
<h2>ğŸ““ Appunti</h2>
<textarea style="min-height:80px"></textarea>
</div>

</div>

<script>
function v(id){ return document.getElementById(id); }

function calcola(){
  const des=+v("des").value||0;
  const int=+v("int").value||0;
  const vig=+v("vig").value||0;
  const vol=+v("vol").value||0;
  const liv=+v("liv").value||0;

  v("pv").value = vig*5 + liv;
  v("pm").value = vol*5 + liv;
  v("pi").value = 6 + liv;
  v("dif").value = des;
  v("difm").value = int;
  v("init").value = des + int;
}

document.querySelectorAll("input").forEach(i=>{
  i.addEventListener("input", calcola);
});

calcola();
</script>

</body>
</html>
